import React from "react"
import { useContext } from "react"
import { useEffect } from "react"

import { Link, useLocation } from "react-router-dom"
import noteContext from "../context/NoteContext"

const Navbar = () => {
  let location = useLocation()
  useEffect(() => { }, [location])
  const context = useContext(noteContext)
  const { button, changeMode, handleLogout } = context


  return (
    <div>
      <nav className={`navbar navbar-expand-lg navbar-${button} bg-${button}`}>
        <div className="container-fluid">
          <a href='/'>
            <svg xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="500" viewBox="0 0 375 374.999991" height="500" className='nav-logo' version="1.0"><defs><g /></defs><g fill="#000000" fillOpacity="1"><g transform="translate(15.384155, 220.512766)"><g><path d="M 72.140625 -2.65625 C 72.140625 -0.96875 68.359375 -0.125 60.796875 -0.125 C 53.242188 -0.125 49.144531 -0.726562 48.5 -1.9375 L 28.34375 -39.5625 L 28.34375 -2.046875 C 28.34375 -0.597656 24.625 0.125 17.1875 0.125 C 9.75 0.125 6.03125 -0.597656 6.03125 -2.046875 L 6.03125 -82.765625 C 6.03125 -83.960938 9.207031 -84.5625 15.5625 -84.5625 C 18.050781 -84.5625 20.960938 -84.335938 24.296875 -83.890625 C 27.640625 -83.453125 29.675781 -82.632812 30.40625 -81.4375 L 49.703125 -44.28125 L 49.703125 -82.15625 C 49.703125 -83.6875 53.441406 -84.453125 60.921875 -84.453125 C 68.398438 -84.453125 72.140625 -83.6875 72.140625 -82.15625 Z M 72.140625 -2.65625 " /></g></g></g><g fill="#000000" fillOpacity="1"><g transform="translate(93.555184, 220.512766)"><g><path d="M 41.921875 1.203125 C 30.617188 1.203125 21.410156 -2.492188 14.296875 -9.890625 C 7.179688 -17.285156 3.625 -28.082031 3.625 -42.28125 C 3.625 -56.476562 7.222656 -67.234375 14.421875 -74.546875 C 21.617188 -81.867188 30.90625 -85.53125 42.28125 -85.53125 C 53.664062 -85.53125 62.851562 -81.929688 69.84375 -74.734375 C 76.84375 -67.535156 80.34375 -56.632812 80.34375 -42.03125 C 80.34375 -27.4375 76.765625 -16.582031 69.609375 -9.46875 C 62.453125 -2.351562 53.222656 1.203125 41.921875 1.203125 Z M 41.984375 -62.375 C 38.117188 -62.375 34.878906 -60.601562 32.265625 -57.0625 C 29.648438 -53.519531 28.34375 -48.550781 28.34375 -42.15625 C 28.34375 -35.769531 29.585938 -30.863281 32.078125 -27.4375 C 34.578125 -24.019531 37.859375 -22.3125 41.921875 -22.3125 C 45.984375 -22.3125 49.28125 -24.039062 51.8125 -27.5 C 54.34375 -30.957031 55.609375 -35.90625 55.609375 -42.34375 C 55.609375 -48.78125 54.300781 -53.726562 51.6875 -57.1875 C 49.082031 -60.644531 45.847656 -62.375 41.984375 -62.375 Z M 41.984375 -62.375 " /></g></g></g><g fill="#000000" fillOpacity="1"><g transform="translate(177.516681, 220.512766)"><g><path d="M 42.34375 -1.9375 C 42.34375 -0.320312 38.359375 0.484375 30.390625 0.484375 C 22.429688 0.484375 18.453125 -0.320312 18.453125 -1.9375 L 18.453125 -62.484375 L 3.984375 -62.484375 C 2.617188 -62.484375 1.648438 -64.335938 1.078125 -68.046875 C 0.835938 -69.816406 0.71875 -71.625 0.71875 -73.46875 C 0.71875 -75.320312 0.835938 -77.132812 1.078125 -78.90625 C 1.648438 -82.601562 2.617188 -84.453125 3.984375 -84.453125 L 56.453125 -84.453125 C 57.828125 -84.453125 58.796875 -82.601562 59.359375 -78.90625 C 59.597656 -77.132812 59.71875 -75.320312 59.71875 -73.46875 C 59.71875 -71.625 59.597656 -69.816406 59.359375 -68.046875 C 58.796875 -64.335938 57.828125 -62.484375 56.453125 -62.484375 L 42.34375 -62.484375 Z M 42.34375 -1.9375 " /></g></g></g><g fill="#000000" fillOpacity="1"><g transform="translate(238.07508, 220.512766)"><g><path d="M 45.234375 -50.90625 C 46.765625 -50.90625 47.53125 -48.09375 47.53125 -42.46875 C 47.53125 -40.78125 47.347656 -38.789062 46.984375 -36.5 C 46.628906 -34.207031 45.96875 -33.0625 45 -33.0625 L 29.671875 -33.0625 L 29.671875 -20.984375 L 51.875 -20.984375 C 53.238281 -20.984375 54.164062 -19.21875 54.65625 -15.6875 C 54.894531 -14.15625 55.015625 -12.523438 55.015625 -10.796875 C 55.015625 -9.066406 54.769531 -6.832031 54.28125 -4.09375 C 53.800781 -1.363281 53 0 51.875 0 L 10.609375 0 C 7.554688 0 6.03125 -1.242188 6.03125 -3.734375 L 6.03125 -81.3125 C 6.03125 -83.40625 6.957031 -84.453125 8.8125 -84.453125 L 52 -84.453125 C 53.6875 -84.453125 54.53125 -80.890625 54.53125 -73.765625 C 54.53125 -66.648438 53.6875 -63.09375 52 -63.09375 L 29.671875 -63.09375 L 29.671875 -50.90625 Z M 45.234375 -50.90625 " /></g></g></g><g fill="#000000" fillOpacity="1"><g transform="translate(297.54776, 220.512766)"><g><path d="M 9.171875 -29.4375 C 10.691406 -28.226562 13.320312 -26.578125 17.0625 -24.484375 C 20.8125 -22.398438 24.394531 -21.359375 27.8125 -21.359375 C 31.226562 -21.359375 32.9375 -22.679688 32.9375 -25.328125 C 32.9375 -26.535156 32.453125 -27.601562 31.484375 -28.53125 C 30.523438 -29.457031 28.753906 -30.519531 26.171875 -31.71875 C 23.597656 -32.925781 21.664062 -33.875 20.375 -34.5625 C 19.09375 -35.25 17.382812 -36.375 15.25 -37.9375 C 13.125 -39.507812 11.5 -41.140625 10.375 -42.828125 C 7.15625 -47.410156 5.546875 -53.238281 5.546875 -60.3125 C 5.546875 -67.394531 8.179688 -73.367188 13.453125 -78.234375 C 18.722656 -83.097656 25.617188 -85.53125 34.140625 -85.53125 C 39.929688 -85.53125 45.28125 -84.90625 50.1875 -83.65625 C 55.09375 -82.414062 57.625 -80.789062 57.78125 -78.78125 C 57.78125 -78.539062 57.78125 -78.296875 57.78125 -78.046875 C 57.78125 -75.234375 56.894531 -71.675781 55.125 -67.375 C 53.363281 -63.070312 52.117188 -60.679688 51.390625 -60.203125 C 46.242188 -62.859375 41.640625 -64.1875 37.578125 -64.1875 C 33.515625 -64.1875 31.484375 -62.738281 31.484375 -59.84375 C 31.484375 -58.070312 32.972656 -56.5 35.953125 -55.125 C 36.597656 -54.8125 37.519531 -54.375 38.71875 -53.8125 C 39.925781 -53.25 41.3125 -52.582031 42.875 -51.8125 C 44.445312 -51.050781 46.140625 -50.085938 47.953125 -48.921875 C 49.765625 -47.753906 51.71875 -46.207031 53.8125 -44.28125 C 58.070312 -40.257812 60.203125 -34.945312 60.203125 -28.34375 C 60.203125 -19.738281 57.828125 -12.703125 53.078125 -7.234375 C 48.335938 -1.765625 41.019531 1.046875 31.125 1.203125 C 26.300781 1.203125 21.9375 0.800781 18.03125 0 C 14.132812 -0.800781 10.738281 -2.367188 7.84375 -4.703125 C 4.945312 -7.035156 3.5 -9.847656 3.5 -13.140625 C 3.5 -16.441406 4.101562 -19.722656 5.3125 -22.984375 C 6.519531 -26.242188 7.804688 -28.394531 9.171875 -29.4375 Z M 9.171875 -29.4375 " /></g></g></g></svg>
          </a>
          <button
            className="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span className="navbar-toggler-icon"></span>
          </button>
          <div className="collapse navbar-collapse" id="navbarSupportedContent">
            <ul className="navbar-nav me-auto mb-2 mb-lg-0">
              <li className="nav-item">
                <Link
                  className={`nav-link ${location.pathname === "/" ? "active" : ""
                    }`}
                  aria-current="page"
                  to="/"
                >
                  Home
                </Link>
              </li>
              <li className="nav-item">
                <Link
                  className={`nav-link ${location.pathname === "/about" ? "active" : ""
                    }`}
                  to="/about"
                >
                  About
                </Link>
              </li>
            </ul>
            <div className="form-check form-switch mx-1">
              <input
                className="form-check-input"
                type="checkbox"
                role="switch"
                id="flexSwitchCheckDefault"
                onClick={changeMode}
              />
              <label
                className="form-check-label"
                htmlFor="flexSwitchCheckDefault"
              >
                {button} mode
              </label>
            </div>
            {!window.localStorage.getItem("loggedNoteappUser") ? (
              <form className="d-flex" role="search">
                <Link
                  className="button button-primary mx-2"
                  to="/login"
                  role="button"
                >
                  LogIn
                </Link>
                <Link
                  className="button button-primary mx-2"
                  to="/signup"
                  role="button"
                >
                  Signup
                </Link>
              </form>
            ) : (
              <Link
                className="button button-primary mx-2"
                to="/"
                role="button"
                onClick={handleLogout}>
                Sign out
              </Link>
            )}
          </div>
        </div>
      </nav>{" "}
    </div>
  );
};

export default Navbar